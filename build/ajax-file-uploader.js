jQuery.handleError=function(){},jQuery.extend({createUploadIframe:function(e,t){var n="jUploadFrame"+e;if(window.ActiveXObject){var r=document.createElement('<iframe id="'+n+'" name="'+n+'" />');"boolean"==typeof t?r.src="javascript:false":"string"==typeof t&&(r.src=t)}else{var r=document.createElement("iframe");r.id=n,r.name=n}return r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",document.body.appendChild(r),r},createUploadForm:function(e,t){var n="jUploadForm"+e,r="jUploadFile"+e,a=$('<form  action="" method="POST" name="'+n+'" id="'+n+'" enctype="multipart/form-data"></form>'),o=$("#"+t),d=$(o).clone();return $(o).attr("id",r),$(o).before(d),$(o).appendTo(a),$(a).css("position","absolute"),$(a).css("top","-1200px"),$(a).css("left","-1200px"),$(a).appendTo("body"),a},ajaxFileUpload:function(e){e=jQuery.extend({},jQuery.ajaxSettings,e);var t=e.fileElementId,n=jQuery.createUploadForm(t,e.fileElementId),r=(jQuery.createUploadIframe(t,e.secureuri),"jUploadFrame"+t),a="jUploadForm"+t;e.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var o=!1,d={};e.global&&jQuery.event.trigger("ajaxSend",[d,e]);var c=function(t){var a=document.getElementById(r);try{a.contentWindow?(d.responseText=a.contentWindow.document.body?a.contentWindow.document.body.innerHTML:null,d.responseXML=a.contentWindow.document.XMLDocument?a.contentWindow.document.XMLDocument:a.contentWindow.document):a.contentDocument&&(d.responseText=a.contentDocument.document.body?a.contentDocument.document.body.innerHTML:null,d.responseXML=a.contentDocument.document.XMLDocument?a.contentDocument.document.XMLDocument:a.contentDocument.document)}catch(c){jQuery.handleError(e,d,null,c)}if(d||"timeout"==t){o=!0;var u;try{if(u="timeout"!=t?"success":"error","error"!=u){var l=jQuery.uploadHttpData(d,e.dataType);e.success&&e.success(l,u),e.global&&jQuery.event.trigger("ajaxSuccess",[d,e])}else jQuery.handleError(e,d,u)}catch(c){u="error",jQuery.handleError(e,d,u,c)}e.global&&jQuery.event.trigger("ajaxComplete",[d,e]),e.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),e.complete&&e.complete(d,u),jQuery(a).unbind(),setTimeout(function(){try{$(a).remove(),$(n).remove()}catch(t){jQuery.handleError(e,d,null,t)}},100),d=null}};e.timeout>0&&setTimeout(function(){o||c("timeout")},e.timeout);try{var n=$("#"+a);$(n).attr("action",e.url),$(n).attr("method","POST"),$(n).attr("target",r),n.encoding?n.encoding="multipart/form-data":n.enctype="multipart/form-data",$(n).submit()}catch(u){jQuery.handleError(e,d,null,u)}return window.attachEvent?document.getElementById(r).attachEvent("onload",c):document.getElementById(r).addEventListener("load",c,!1),{abort:function(){}}},uploadHttpData:function(r,type){var data=!type;data="xml"==type||data?r.responseXML:r.responseText,"script"==type&&jQuery.globalEval(data),"json"==type&&(data=r.responseText);var start=data.indexOf(">");if(-1!=start){var end=data.indexOf("<",start+1);-1!=end&&(data=data.substring(start+1,end))}return eval("data = "+data),"html"==type&&jQuery("<div>").html(data).evalScripts(),data}});